<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI L√Ä TH√ÅNH NH·ªå</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle,#0a3d62,#020230);
  font-family:system-ui,Arial;
  color:#fff;
}
.game{
  width:95%;
  max-width:500px;
  background:#000;
  border-radius:20px;
  padding:20px;
  border:2px solid gold;
}
h1{text-align:center;color:gold;margin:5px 0}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:none;
  font-size:1rem;
}
button{
  background:gold;
  font-weight:bold;
  cursor:pointer;
}
.option{
  background:#111;
  border:1px solid #0984e3;
  color:#fff;
}
.option.correct{background:#2ecc71}
.option.wrong{background:#d63031}
.hidden{display:none}
.timer{text-align:center;font-size:1.2rem;color:#ff7675}
.footer{
  margin-top:12px;
  font-size:.8rem;
  color:#aaa;
  text-align:center;
}
</style>
</head>

<body>
<div class="game">

<div id="start">
  <h1>üç∫ AI L√Ä TH√ÅNH NH·ªå üç∫</h1>
  <input id="playerName" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi ch∆°i">
  <select id="difficulty">
    <option value="easy">D·ªÖ ‚Äì 20s</option>
    <option value="medium">Trung b√¨nh ‚Äì 15s</option>
    <option value="hard">Kh√≥ ‚Äì 20s</option>
  </select>
  <button onclick="startGame()">V√ÄO CU·ªòC</button>
</div>

<div id="quiz" class="hidden">
  <div class="timer" id="timer"></div>
  <h2 id="question"></h2>
  <div id="options"></div>
</div>

<div id="result" class="hidden">
  <h1 id="resTitle"></h1>
  <p id="resMsg"></p>
  <button onclick="location.reload()">CH∆†I L·∫†I</button>
</div>

<div class="footer">
  ƒê√¢y l√† m·ªôt tr√≤ ch∆°i gi·∫£i tr√≠ vui nh·ªôn.<br>
  N·∫øu b·∫°n th·∫•y th√∫ v·ªã, h√£y chia s·∫ª ‚Äì m·ªôt s·∫£n ph·∫©m nh·ªè c·ªßa NCT.
</div>

</div>

<script>
// ================== KHO 80 C√ÇU H·ªéI M·ªöI ==================
const QUESTIONS = [

/* ===== EASY ===== */
{ id:201, level:"easy", q:"Con g√¨ ng·ªß ƒë√¥ng?", options:["G·∫•u","Ch√≥","G√†","C√°"], answers:[0]},
{ id:202, level:"easy", q:"Th·ªß ƒë√¥ Vi·ªát Nam l√†?", options:["Hu·∫ø","H√† N·ªôi","ƒê√† N·∫µng","S√†i G√≤n"], answers:[1]},
{ id:203, level:"easy", q:"M·ªôt t√° b·∫±ng bao nhi√™u?", options:["10","11","12","20"], answers:[2]},
{ id:204, level:"easy", q:"C√°i g√¨ d√πng ƒë·ªÉ ƒëo th·ªùi gian?", options:["Th∆∞·ªõc","C√¢n","ƒê·ªìng h·ªì","La b√†n"], answers:[2]},
{ id:205, level:"easy", q:"M·∫∑t trƒÉng quay quanh?", options:["M·∫∑t tr·ªùi","Sao H·ªèa","Tr√°i ƒë·∫•t","Sao Kim"], answers:[2]},
{ id:206, level:"easy", q:"Con ng∆∞·ªùi c√≥ bao nhi√™u ng√≥n tay?", options:["8","10","12","20"], answers:[1]},
{ id:207, level:"easy", q:"ƒÇn c∆°m c·∫ßn g√¨?", options:["ƒê≈©a","B√°t","Th√¨a","C·∫£ 3"], answers:[3]},
{ id:208, level:"easy", q:"Lo√†i n√†o bay ƒë∆∞·ª£c?", options:["C√°","Chim","R·∫Øn","·∫æch"], answers:[1]},
{ id:209, level:"easy", q:"M·ªôt nƒÉm c√≥ m·∫•y m√πa?", options:["2","3","4","5"], answers:[2]},
{ id:210, level:"easy", q:"S·ªë ch·∫µn l√†?", options:["3","5","7","8"], answers:[3]},

/* ===== MEDIUM ===== */
{ id:221, level:"medium", q:"Ch·ªçn ph√°t bi·ªÉu ƒë√∫ng:", options:[
  "C√° s·ªëng ƒë∆∞·ª£c tr√™n c·∫°n",
  "Con ng∆∞·ªùi l√† ƒë·ªông v·∫≠t",
  "M·∫∑t tr·ªùi quay quanh Tr√°i ƒë·∫•t",
  "Kh√¥ng kh√≠ kh√¥ng t·ªìn t·∫°i"
], answers:[1]},
{ id:222, level:"medium", q:"S·ªë ti·∫øp theo: 1 ‚Äì 4 ‚Äì 9 ‚Äì 16 ‚Äì ?", options:["20","24","25","36"], answers:[2]},
{ id:223, level:"medium", q:"Ch·ªçn ƒê·ª¶ ƒë√°p √°n ƒë√∫ng:", options:[
  "N∆∞·ªõc c√≥ th·ªÉ ƒë√≥ng bƒÉng",
  "N∆∞·ªõc kh√¥ng bay h∆°i",
  "N∆∞·ªõc c√≥ th·ªÉ b·ªëc h∆°i",
  "N∆∞·ªõc kh√¥ng c√≥ kh·ªëi l∆∞·ª£ng"
], answers:[0,2]},
{ id:224, level:"medium", q:"5 + (3 √ó 2) = ?", options:["11","16","10","13"], answers:[0]},
{ id:225, level:"medium", q:"C√°i g√¨ c√†ng d√πng c√†ng m√≤n?", options:[
  "Dao","B√∫t","Gi·∫•y","ƒêi·ªán tho·∫°i"
], answers:[0]},
{ id:226, level:"medium", q:"Ch·ªçn ph√°t bi·ªÉu ƒë√∫ng:", options:[
  "√Çm thanh truy·ªÅn ƒë∆∞·ª£c trong ch√¢n kh√¥ng",
  "√Çm thanh c·∫ßn m√¥i tr∆∞·ªùng truy·ªÅn",
  "√Çm thanh l√† √°nh s√°ng",
  "√Çm thanh kh√¥ng lan truy·ªÅn"
], answers:[1]},
{ id:227, level:"medium", q:"Con ng∆∞·ªùi th·ªü ra kh√≠ g√¨?", options:[
  "Oxy","Nit∆°","CO‚ÇÇ","Hidro"
], answers:[2]},
{ id:228, level:"medium", q:"Ch·ªçn ƒê·ª¶ ƒë√°p √°n ƒë√∫ng:", options:[
  "Kim lo·∫°i d·∫´n ƒëi·ªán",
  "Nh·ª±a d·∫´n ƒëi·ªán",
  "Cao su c√°ch ƒëi·ªán",
  "G·ªó ∆∞·ªõt d·∫´n ƒëi·ªán"
], answers:[0,3]},
{ id:229, level:"medium", q:"S·ªë n√†o l·ªõn nh·∫•t?", options:["0.5","1/2","0.49","0.51"], answers:[3]},
{ id:230, level:"medium", q:"M·ªôt gi·ªù c√≥ bao nhi√™u gi√¢y?", options:[
  "60","600","3600","6000"
], answers:[2]},

/* ===== HARD ===== */
{ id:251, level:"hard", q:"V√¨ sao tr·ªùi l·∫°nh kim lo·∫°i s·ªù v√†o th·∫•y l·∫°nh h∆°n g·ªó?", options:[
  "Kim lo·∫°i c√≥ nhi·ªát ƒë·ªô th·∫•p h∆°n",
  "Kim lo·∫°i d·∫´n nhi·ªát t·ªët h∆°n",
  "G·ªó gi·ªØ nhi·ªát k√©m",
  "Do c·∫£m gi√°c tay"
], answers:[1], explain:"Kim lo·∫°i truy·ªÅn nhi·ªát t·ª´ tay nhanh h∆°n g·ªó."},
{ id:252, level:"hard", q:"Ch·ªçn ƒê·ª¶ ƒë√°p √°n ƒë√∫ng:", options:[
  "√Ånh s√°ng l√† s√≥ng ƒëi·ªán t·ª´",
  "√Ånh s√°ng c·∫ßn m√¥i tr∆∞·ªùng truy·ªÅn",
  "√Ånh s√°ng truy·ªÅn ƒë∆∞·ª£c trong ch√¢n kh√¥ng",
  "√Ånh s√°ng kh√¥ng mang nƒÉng l∆∞·ª£ng"
], answers:[0,2]},
{ id:253, level:"hard", q:"S·ªë ti·∫øp theo: 2 ‚Äì 6 ‚Äì 12 ‚Äì 20 ‚Äì ?", options:[
  "28","30","32","36"
], answers:[0]},
{ id:254, level:"hard", q:"V√¨ sao t√†u th·ªßy n·ªïi ƒë∆∞·ª£c?", options:[
  "Do nh·∫π h∆°n n∆∞·ªõc",
  "Do l·ª±c ƒë·∫©y Archimedes",
  "Do n∆∞·ªõc ƒë·ª°",
  "Do kh√¥ng kh√≠"
], answers:[1]},
{ id:255, level:"hard", q:"Ch·ªçn ph√°t bi·ªÉu ƒë√∫ng:", options:[
  "√Åp su·∫•t kh√¥ng ·∫£nh h∆∞·ªüng ƒëi·ªÉm s√¥i",
  "N√∫i cao n∆∞·ªõc s√¥i th·∫•p h∆°n",
  "N∆∞·ªõc lu√¥n s√¥i ·ªü 100¬∞C",
  "ƒêi·ªÉm s√¥i kh√¥ng ƒë·ªïi"
], answers:[1]},
{ id:256, level:"hard", q:"T·∫°i sao k√≠nh l√∫p c√≥ th·ªÉ ƒë·ªët gi·∫•y?", options:[
  "Do ph·∫£n x·∫° √°nh s√°ng",
  "Do h·ªôi t·ª• √°nh s√°ng",
  "Do k√≠nh n√≥ng",
  "Do ma s√°t"
], answers:[1]},
{ id:257, level:"hard", q:"Ch·ªçn ƒê·ª¶ ƒë√°p √°n ƒë√∫ng:", options:[
  "Con ng∆∞·ªùi c√≥ qu√°n t√≠nh",
  "Qu√°n t√≠nh ph·ª• thu·ªôc kh·ªëi l∆∞·ª£ng",
  "Qu√°n t√≠nh kh√¥ng t·ªìn t·∫°i",
  "V·∫≠t ƒë·ª©ng y√™n kh√¥ng c√≥ qu√°n t√≠nh"
], answers:[0,1]},
{ id:258, level:"hard", q:"S·ªë n√†o KH√îNG ph·∫£i s·ªë nguy√™n?", options:[
  "‚Äì2","0","3.5","7"
], answers:[2]},
{ id:259, level:"hard", q:"V√¨ sao b√≥ng bay x·∫πp d·∫ßn theo th·ªùi gian?", options:[
  "Do bay h∆°i",
  "Do kh√≠ khu·∫øch t√°n",
  "Do th·ªßng",
  "Do nhi·ªát ƒë·ªô"
], answers:[1]},
{ id:260, level:"hard", q:"Ch·ªçn ph√°t bi·ªÉu ƒë√∫ng:", options:[
  "L·ª±c lu√¥n l√†m v·∫≠t chuy·ªÉn ƒë·ªông",
  "L·ª±c c√≥ th·ªÉ l√†m bi·∫øn d·∫°ng v·∫≠t",
  "Kh√¥ng c√≥ l·ª±c th√¨ v·∫≠t kh√¥ng ƒë·ª©ng y√™n",
  "L·ª±c kh√¥ng t·ªìn t·∫°i"
], answers:[1]}
];

// ================== LOGIC GAME ==================
let timerId, timeLeft, currentQ;

function startGame(){
  const name = playerName.value.trim();
  const diff = difficulty.value;
  if(!name) return alert("Nh·∫≠p t√™n tr∆∞·ªõc ƒë√£ üòÖ");

  const girlNames=["lan","hoa","th·ªßy","chinh","linh","ng·ªçc","trang"];
  if(girlNames.includes(name.toLowerCase())){
    alert("Wow üòç t√™n nghe xinh th·∫ø, ch∆°i cho nh·∫π tay nha!");
  }

  let used=JSON.parse(localStorage.getItem("USED_Q_IDS")||"[]");
  let pool=QUESTIONS.filter(q=>q.level===diff&&!used.includes(q.id));

  if(pool.length===0){
    used=[];
    localStorage.setItem("USED_Q_IDS","[]");
    pool=QUESTIONS.filter(q=>q.level===diff);
  }

  currentQ=pool[Math.floor(Math.random()*pool.length)];
  used.push(currentQ.id);
  localStorage.setItem("USED_Q_IDS",JSON.stringify(used));

  start.classList.add("hidden");
  quiz.classList.remove("hidden");

  timeLeft = diff==="medium"?15:20;
  showQuestion();
}

function showQuestion(){
  question.innerText=currentQ.q;
  options.innerHTML="";
  currentQ.options.forEach((op,i)=>{
    const b=document.createElement("button");
    b.className="option";
    b.innerText=op;
    b.onclick=()=>answer(i,b);
    options.appendChild(b);
  });
  startTimer();
}

function startTimer(){
  timer.innerText=`‚è± ${timeLeft}s`;
  timerId=setInterval(()=>{
    timeLeft--;
    timer.innerText=`‚è± ${timeLeft}s`;
    if(timeLeft<=0){
      clearInterval(timerId);
      end(false,"H·∫øt gi·ªù üç∫");
    }
  },1000);
}

function answer(i,btn){
  clearInterval(timerId);
  if(currentQ.answers.includes(i)){
    btn.classList.add("correct");
    setTimeout(()=>end(true,"Qua c·ª≠a üòé"),600);
  }else{
    btn.classList.add("wrong");
    end(false,"Sai r·ªìi u·ªëng th√¥i üçª");
  }
}

function end(win,msg){
  quiz.classList.add("hidden");
  result.classList.remove("hidden");
  resTitle.innerText=win?"TH·∫ÆNG!":"THUA!";
  resMsg.innerText=msg;
}
</script>
</body>
</html>
